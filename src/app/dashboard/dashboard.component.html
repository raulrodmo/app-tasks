<div class="page-content">
    <app-header></app-header>
    <main class="main">
        <div class="main-content">
        <app-main></app-main>
        <div class="main-top">
            <div class="main-top-content">
                <p class="title">Olá Fábio,</p>
                <p>Bem-vindo ao seu gestor de tarefas!</p>
            </div>
            <app-button-new-task (click)="toggleNewTaskForm() ; getTaskDone()"></app-button-new-task>
        </div>
        <div class="cards">
            <div class="card-content">
                <div class="card card-to-do">
                <div class="card-body">
                    <h5 class="card-title">{{getTaskToDo()}}</h5>
                    <p class="card-text">to do</p>
                </div>
                <div class="card-icon" style="background: rgba(181, 228, 255, 0.3)">
                    <img src="../assets/img/to-do.svg" alt="">
                </div>
                </div>
                <div class="card card-doing">
                <div class="card-body">
                    <div>
                    <h5 class="card-title">{{getTaskDoing()}}</h5>
                    </div>
                    <p class="card-text">doing</p>
                </div>
                <div class="card-icon" style="background: rgba(184, 128, 239, 0.2)">
                    <img src="../assets/img/doing.svg" alt="">
                </div>
                </div>
                <div class="card card-done">
                <div class="card-body">
                    <h5 class="card-title">{{getTaskDone()}}</h5>
                    <p class="card-text">done</p>
                </div>
                <div class="card-icon" style="background: rgba(181, 255, 224, 0.3)">
                    <img src="../assets/img/done.svg" alt="">
                </div>
                </div>
            </div>
            <div class="graph-of-tasks">
                <p>
                #Tarefas concluídas por dia
                </p>
                <app-task-period></app-task-period>
                <div class="graph">
                </div>
            </div>
        </div>
        </div>
    </main>
    <div class="new-task new-task-desactive">
      <div class="new-task-content">
        <div class="new-task-top">
          <p class="new-task-top-title">Nova tarefa</p>
          <button (click)="resetForm();toggleNewTaskForm()"><i class="bi bi-x-circle"></i>
          </button>
        </div>
        
        <div class="new-task-main">
          <div class="mb-3 new-task-title">
            <label for="exampleFormControlInput1" class="form-label">Título da tarefa</label>
            <input type="text" class="form-control input-new-task-name" id="exampleFormControlInput1" [(ngModel)]="task.name">
          </div>
    
          <div class="mb-3 new-task-details">
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Detalhes da tarefa" [(ngModel)]="task.details"></textarea>
          </div>
    
          <div class="deadline-priority">
            <div class="mb-3 input-task-deadline">
              <label for="exampleFormControlInput1" class="form-label">Deadline</label>
              <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="Deadline" [(ngModel)]="task.deadline">
            </div>
            <div class="task-priority">
              <label for="exampleFormControlInput1" class="form-label">Prioridade</label>
              <select id="priorityOptions" class="form-select period-select" aria-label="Default select example" [(ngModel)]="task.priority">
                <option value="alta">Alta</option>
                <option value="media">Média</option>
                <option value="baixa">Baixa</option>
              </select>
            </div>
          </div>

            <div class="task-responsible">
              <label for="exampleFormControlInput1" class="form-label">Responsável</label>
              <input class="form-control" list="responsibleOptions" id="responsibleDataList" [(ngModel)]="task.responsible">
              <datalist id="responsibleOptions">
                <option *ngFor="let task of tasks" value={{task.responsible}}>
              </datalist>
            </div>

            <div class="new-task-status">
              <label for="exampleFormControlInput1" class="form-label">Status</label>
              <select id="priorityOptions" class="form-select period-select" aria-label="Default select example" [(ngModel)]="task.status">
                <option value="to do">ToDo</option>
                <option value="doing">Doing</option>
                <option value="done">Done</option>
              </select>
            </div>
            
            <div class="mb-3 new-task-project">
              <label for="exampleFormControlInput1" class="form-label">Projeto</label>
              <input class="form-control" list="projectOptions" id="projectDataList" [(ngModel)]="task.project">
              <datalist id="projectOptions">
                <option *ngFor="let task of tasks" value={{task.project}}>
              </datalist>
            </div>        
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="customFile">
          </div>
          <div class="actions">
            <app-button-cancel (click)="resetForm() ; toggleNewTaskForm()"></app-button-cancel>
            <app-button-new-task (click)="toggleNewTaskForm() ; addTask(task);"></app-button-new-task>
    </div>
</div>
